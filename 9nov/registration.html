<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Page</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="header">
        <div class="header-logo">
            <a href="homepage.html">
                <img class="logo" src="img/logo.png" alt="brand-logo"></a>
        </div>

        <div class="header-nav">
            <a href="product-list.html?type=full">FULL SIZED</a>
            <a href="product-list.html?type=tkl">TENKEYLESS</a>
            <a href="product-list.html?type=75">75% LAYOUT</a>
            <a href="product-list.html?type=65">65% LAYOUT</a>
            <a href="product-list.html?type=60">60% LAYOUT</a>
        </div>

        <div class="header-icon">
            <a href="">
                <img class="icon" src="img/user.svg" alt="user-icon"></a>
            <a href="">
                <img class="icon" src="img/search.svg" alt="search-icon"></a>
            <a href="cart.html">
                <img class="icon" src="img/cart.svg" alt="cart-icon"></a>
        </div>
    </div>

    <div class="container">

        <form class="reg-form" name="regForm" action="register-result.html" onsubmit="return validateForm()">
            <h1>Account Registration</h1>
            <hr>
            <h2>Personal Details</h2>
            <div class="row">
                <div class="col-30"><label for="firstName">* First Name</label></div>
                <div class="col-70">
                    <input type="text" name="firstName" placeholder="John">
                </div>
            </div>
            <div class="row">
                <div class="col-30"><label for="lastName">* Last Name</label></div>
                <div class="col-70">
                    <input type="text" name="lastName" placeholder="Doe">
                </div>
            </div>
            <div class="row">
                <div class="col-30"><label for="email">* E-Mail</label></div>
                <div class="col-70">
                    <input type="email" name="email" placeholder="johdoe@gmail.com">
                </div>
            </div>
            <div class="row">
                <div class="col-30"><label for="phone">* Telephone</label></div>
                <div class="col-70">
                    <input id="phone" type="tel" name="phone" placeholder="+6013XXXXXXX">
                </div>
            </div>
            <hr>
            <h2>Your Address</h2>
            <div class="row">
                <div class="col-30"><label for="address1">* Address 1</label></div>
                <div class="col-70"><input type="text" name="address1"></div>
            </div>
            <div class="row">
                <div class="col-30"><label for="address2">Address 2</label></div>
                <div class="col-70"><input type="text" name="address2"></div>
            </div>
            <div class="row">
                <div class="col-30"><label for="city">* City</label></div>
                <div class="col-70"><input type="text" name="city"></div>
            </div>
            <div class="row">
                <div class="col-30"><label for="zip">* Zip Code</label></div>
                <div class="col-70"><input type="text" name="zip"></div>
            </div>
            <div class="row">
                <div class="col-30"><label for="state">* State</label></div>
                <div class="col-70"><input type="text" name="state"></div>
            </div>
            <hr>
            <div class="row">
                <button class="reg-btn" type="submit">Register</button>
                <h1 id="msg"></h1>
            </div>
        </form>
    </div>

    <footer>
        <p>Copyright 2021 &copy; sydkif</p>
    </footer>

</body>

</html>

<script>
    function validateForm() {
        let _firstName = document.forms["regForm"]["firstName"].value;
        let _lastName = document.forms["regForm"]["lastName"].value;
        let _email = document.forms["regForm"]["email"].value;
        let _phone = document.forms["regForm"]["phone"].value;
        let _address1 = document.forms["regForm"]["address1"].value;
        let _address2 = document.forms["regForm"]["address2"].value;
        let _city = document.forms["regForm"]["city"].value;
        let _zip = document.forms["regForm"]["zip"].value;
        let _state = document.forms["regForm"]["state"].value;

        // validateEmail(_email);

        if (_firstName == "") {
            alert("Please enter your first name.");
            return false;
        } if (_lastName == "") {
            alert("Please enter your last name.");
            return false;
        } if (_email == "") {
            alert("Please enter your email address.");
            return false;
        } if (_phone == "") {
            alert("Please enter your phone number.");
            return false;
        } if (_address1 == "") {
            alert("Please enter your address.");
            return false;
        } if (_city == "") {
            alert("Please enter your city.");
            return false;
        } if (_zip == "") {
            alert("Please enter your zip code.");
            return false;
        } if (_state == "") {
            alert("Please enter your state.");
            return false;
        }

        const phoneFormat = /^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im;
        if (!(_phone.match(phoneFormat))) {
            alert("Invalid Phone Number");
            return false;
        }

        const zipFormat = /^\d{5}(-\d{4})?$/;
        if (!(_zip.match(zipFormat))) {
            alert("Invalid Zip Code");
            return false;
        }

        sessionStorage.setItem("$firstName", _firstName);
        sessionStorage.setItem("$lastName", _lastName);
        sessionStorage.setItem("$email", _email);
        sessionStorage.setItem("$phone", _phone);
        sessionStorage.setItem("$address1", _address1);
        sessionStorage.setItem("$address2", _address2);
        sessionStorage.setItem("$city", _city);
        sessionStorage.setItem("$zip", _zip);
        sessionStorage.setItem("$state", _state);
        if (_email == "johndoe@gmail.com") {
            sessionStorage.setItem("$msg", "Registration Failed, email has been used.")
            sessionStorage.setItem("$status", "fail");
        }
        else {
            sessionStorage.setItem("$msg", "Thank you for registering, " + _firstName + " " + _lastName + ".")
            sessionStorage.setItem("$status", "success");

        }

    }



</script>